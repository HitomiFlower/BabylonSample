<!DOCTYPE html>
<html>
<head>
    <title>3D Cube Animate</title>
    <style>
        #cubeCanvas {
            width: 400px;
            height: 400px;
        }
    </style>
</head>
<body>
    <h2>Input Cube length of edge</h2>
    <form id="cubeForm">
        <label for="size">Length:</label>
        <input type="number" id="size" name="size" min="1" max="10"><br><br>
        <input type="button" value="Draw" onclick="drawCube()">
    </form>
    <div id="cubeCanvas"></div>

    <!-- 引入 Three.js 库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        var scene, camera, renderer, cube;

        function init3D() {
            // 创建场景、相机和渲染器
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            renderer = new THREE.WebGLRenderer();
            renderer.setSize(400, 400);
            document.getElementById('cubeCanvas').appendChild(renderer.domElement);

            // 创建一个立方体
            var geometry = new THREE.BoxGeometry(1, 1, 1);
            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});
            cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            camera.position.z = 5;

            // 开始动画循环
            animate();
        }

        function drawCube() {
            var size = document.getElementById('size').value;

            // 更新立方体的尺寸
            cube.scale.set(size, size, size);

            // 调整摄像机位置以适应立方体的尺寸
            camera.position.z = 3 * size;
        }

        function animate() {
            requestAnimationFrame(animate);

            // 更新立方体的旋转
            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;
            cube.rotation.z += 0.01;

            // 渲染场景
            renderer.render(scene, camera);
        }

        init3D(); // 初始化3D场景
    </script>
</body>
</html>
